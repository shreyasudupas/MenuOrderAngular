
<p-toast></p-toast>
<div class="scrollable-cards">
    <ng-container *ngFor="let order of data">
        <div class="order-display-list-card">
            <div class="card-row-separations">
                                    
                <div class="order-content-container">
    
                    <div class="card-column-container" style="flex-grow: 1;width: 20%;">
                        <div class="card-photo">
                        <ng-container *ngIf="order.paymentDetail.methodOfDelivery === 'Offline';else showOnline">
                            <img class="image-card" src="assets/icons/offline-order.png" 
                              alt="Offline Order"
                            />
                        </ng-container>
                        <ng-template #showOnline>
                            <img class="image-card" src="assets/icons/online-order.png" 
                            alt="Online Order"
                            />
                        </ng-template>
                           
                        </div>
                   </div>
            
                   <div class="card-column-container" style="flex-grow: 1;width: 40%;">
                        <div class="row-content" style="color: rgb(162, 82, 228);">Order: {{order.uiOrderNumber}}</div>
                        <div class="row-content">Payment: {{ order.paymentDetail.paymentSuccess }}</div>
                        <div class="row-content">Mode: {{ order.paymentDetail.methodOfDelivery }}</div>
                    </div>
            
                    <div class="card-column-container" style="flex-grow: 1;width: 40%;">
                        <div class="row-content">
                            <i class="pi pi-calendar" style="color: rgb(35, 8, 207)"></i>
                            {{order.status.orderPlaced | date: "dd/MM/yyyy h:mm:ss a"}}
                        </div>
                        <div class="row-content">
                            <div class="price">
                                Total Price: <span>&#8377;</span> {{order.paymentDetail.price}}
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="order-status-viewBtn-container">
                    <div class="order-status" style="flex-grow: 1; width:70%">
                        <ng-container [ngSwitch]="order.currentOrderStatus">
                            <div *ngSwitchCase="'OrderPlaced'">
                                Status: <p-tag severity="info" value="Waiting for vendor" [rounded]="true"></p-tag>
                            </div>
                            <div *ngSwitchCase="'OrderInProgress'">
                                Status: <p-tag severity="warning" value="In Progress" [rounded]="true"></p-tag>
                            </div>
                            <div *ngSwitchCase="'OrderReady'">
                                Status: <p-tag value="Order Ready" [rounded]="true"></p-tag>
                            </div>
                            <div *ngSwitchCase="'OrderDone'">
                                Status: <p-tag severity="success" value="Order Collected" [rounded]="true"></p-tag>
                            </div>
                            <div *ngSwitchCase="'OrderCancelled'">
                                Status: <p-tag severity="danger" value="Order Cancelled" [rounded]="true"></p-tag>
                            </div>
                        </ng-container>
                    </div>
    
                    <div class="order-view-button-container">
                        <div class="button-order">
                            <ng-container *ngIf="order.currentOrderStatus === 'OrderPlaced'">
                                <p-button label="Accept Order" 
                                          styleClass="p-button-danger p-button-text p-button-sm"
                                          (click)="acceptOrder(order)"></p-button>
                            </ng-container>
                            <ng-container *ngIf="order.currentOrderStatus === 'OrderInProgress'">
                                <p-button label="Order Ready" 
                                          styleClass="p-button-danger p-button-text p-button-sm"
                                          (click)="orderReady(order)"></p-button>
                            </ng-container>
                            <ng-container *ngIf="order.currentOrderStatus === 'OrderReady'">
                                <p-button label="Reject Order Ready" 
                                          styleClass="p-button-help p-button-text p-button-sm"
                                          (click)="rejectOrderReady(order)"></p-button>
                            </ng-container>
                        </div>

                        <div class="button-order">
                            <p-button label="View Order" styleClass="p-button-info p-button-text p-button-sm"
                                      (click)="viewOrderFnCall(order)"></p-button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </ng-container>
</div>


