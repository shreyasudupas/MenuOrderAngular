<p-card header="Pre Registration Form">
    <div *ngIf="vendorId !== '0'">
        <p>
            Vendor is still under verification from the admin. Please wait untill the Vendor verify. Once the verficationis done a mail will be sent to your registered mailid
            . A login link will be sent in you mail.
        </p>
    </div>

    <div *ngIf="vendorId === '0'">
        <form [formGroup]="vendorPreRegistrationForm" (ngSubmit)="saveSubmit()">

            <div class="col-12">
                <div class="vendor-content">
                    <span class="p-float-label">
                        <input id="vendorName" pInputText formControlName="vendorName"/>
                        <label htmlFor="vendorName">Enter Vendor Name</label>
                    </span>

                    <div *ngIf="vendorPreRegistrationForm.get('vendorName')?.invalid" class="error">
                        <div *ngIf="vendorPreRegistrationForm.get('vendorName')?.errors?.['required']">
                            Vendor Name is required.
                          </div>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="vendor-content">
                    <span class="p-float-label">
                        <input id="vendorDescription" pInputText formControlName="vendorDescription"/>
                        <label htmlFor="vendorDescription">Enter Vendor Description</label>
                    </span>

                    <div *ngIf="vendorPreRegistrationForm.get('vendorDescription')?.invalid" class="error">
                        <div *ngIf="vendorPreRegistrationForm.get('vendorDescription')?.errors?.['required']">
                            Vendor Description is required.
                          </div>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="vendor-content">
                    <span class="p-float-label">
                        <p-dropdown id="vendorType" 
                                    placeholder="Select Vendor Type"
                                    formControlName="vendorType" 
                                    [options]="vendorTypeOptions" 
                                    optionLabel="label"></p-dropdown>
                        <label htmlFor="vendorType">Enter Vendor Type</label>
                    </span>

                    <div *ngIf="vendorPreRegistrationForm.get('vendorType')?.invalid" class="error">
                        <div *ngIf="vendorPreRegistrationForm.get('vendorType')?.errors?.['required']">
                            Vendor Type is required.
                          </div>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="vendor-content">
                    <div *ngIf="latitude !== undefined && longitude !== undefined">
                        <vendor-map [latitude] = "latitude"
                                    [longitude] = "longitude"
                                    [userMarkerRequired]="false"
                                    [customAddressMarkerRequired]="true"
                                    (customAddressLatLongValues)="getLatLongFromUserSelection($event)"></vendor-map>
                    </div>
                </div>
            </div>

            <div class="field p-2">
                <p-button label="Auto Generate Address" 
                          pTooltip="Adjust the marker on the map based on your location and then click to generate the address" tooltipPosition="right"
                          styleClass="p-button-raised" 
                          (click)="getAutoGeneratedAddress()"></p-button>
            </div>

            <div class="col-12">
                <div class="vendor-content">
                    <span class="p-float-label">
                        <input id="state" pInputText formControlName="state"/>
                        <label htmlFor="state">Enter State</label>
                    </span>

                    <div *ngIf="vendorPreRegistrationForm.get('state')?.invalid" class="error">
                        <div *ngIf="vendorPreRegistrationForm.get('state')?.errors?.['required']">
                            State is required.
                          </div>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="vendor-content">
                    <span class="p-float-label">
                        <input id="city" pInputText formControlName="city"/>
                        <label htmlFor="city">Enter City</label>
                    </span>
                </div>
            </div>

            <div class="col-12">
                <div class="vendor-content">
                    <span class="p-float-label">
                        <input id="area" pInputText formControlName="area"/>
                        <label htmlFor="area">Enter Area</label>
                    </span>
                </div>
            </div>

            <div class="col-12">
                <div class="vendor-content">
                    <span class="p-float-label">
                        <input id="addressLine1" type="text" formControlName="addressLine1" pInputText>
                        <label for="addressLine1">AddressLine </label>
                    </span>

                    <div *ngIf="vendorPreRegistrationForm.get('addressLine1')?.invalid" class="error">
                        <div *ngIf="vendorPreRegistrationForm.get('addressLine1')?.errors?.['required']">
                            Address is required.
                          </div>
                    </div>
                </div>
            </div>

            <div class="field col-6">
                <label for="openTimings">Open Timings</label>
                <p-calendar formControlName="openTime" [timeOnly]="true" [hourFormat]="'12'"
                    inputId="openTimings"></p-calendar>
            </div>

            <div class="field col-6">
                <label for="closeTimings">Close Timings</label>
                <p-calendar formControlName="closeTime" [timeOnly]="true" [hourFormat]="'12'"
                    inputId="closeTimings"></p-calendar>
            </div>

            <div class="col-12">
                <div class="vendor-content">
                    <button pButton pRipple type="submit" label="Save" class="p-button-rounded p-button-primary"></button>
                </div>
            </div>

        </form>
    </div>
</p-card>